{% extends "base.html" %}

{% block title %}Détails de la Bouteille{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <div class="bg-white rounded-lg shadow-lg p-6">
        <div class="flex justify-between items-center mb-6">
            <h1 class="text-2xl font-bold">{{ data.nom }} - Détails</h1>
            <div class="space-x-4">
                <button onclick="showMoveBottlePopup('{{ data.nom }}')" class="bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-600">
                    Déplacer
                </button>
                <a href="/bottle/archive/{{ data.nom }}" class="bg-yellow-500 text-white px-4 py-2 rounded-md hover:bg-yellow-600">
                    Archiver
                </a>
                <a href="/bottle/delete/{{ data.nom }}" class="bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600" onclick="return confirm('Êtes-vous sûr de vouloir supprimer cette bouteille ?');">
                    Supprimer
                </a>
            </div>
        </div>

        <!-- Bottle Information -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
                <img src="{{ data.photo }}" alt="{{ data.nom }}" class="w-full h-64 object-cover rounded-md mb-4">
            </div>
            <div class="space-y-4">
                <p class="text-gray-700"><strong>Nom:</strong> {{ data.nom }}</p>
                <p class="text-gray-700"><strong>Type:</strong> {{ data.type }}</p>
                <p class="text-gray-700"><strong>Année:</strong> {{ data.annee }}</p>
                <p class="text-gray-700"><strong>Région:</strong> {{ data.region }}</p>
                <p class="text-gray-700"><strong>Prix:</strong> {{ data.prix }}€</p>
                <p class="text-gray-700"><strong>Étagère:</strong> {{ data.num_etagere }}</p>
                <p class="text-gray-700"><strong>Cave:</strong> {{ data.cave }}</p>
                <p class="text-gray-700"><strong>Note Moyenne:</strong> {{ data.moyen }}</p>
            </div>
        </div>

        <!-- Comments and Notes -->
        <div class="mt-6">
            <h2 class="text-xl font-semibold mb-2">Commentaires</h2>
            {% if data.commentaires and data.commentaires | length > 0 %}
                <ul class="list-disc list-inside">
                    {% for commentaire in data.commentaires %}
                        <li>{{ commentaire }}</li>
                    {% endfor %}
                </ul>
            {% else %}
                <p class="text-gray-600">Aucun commentaire pour cette bouteille.</p>
            {% endif %}
        </div>

        <div class="mt-6">
            <h2 class="text-xl font-semibold mb-2">Notes</h2>
            {% if data.notes and data.notes | length > 0 %}
                <ul class="list-disc list-inside">
                    {% for note in data.notes %}
                        <li>{{ note }} / 5</li>
                    {% endfor %}
                </ul>
            {% else %}
                <p class="text-gray-600">Aucune note pour cette bouteille.</p>
            {% endif %}
        </div>

        <!-- Action Buttons -->
        <div class="mt-6 flex justify-between">
            <a href="/bottle/edit/{{ data.nom }}" class="bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600">
                Modifier
            </a>
            <a href="/bottle/update/{{ data.nom }}" class="bg-teal-500 text-white px-4 py-2 rounded-md hover:bg-teal-600">
                Mettre à jour
            </a>
            <a href="/user/collection" class="text-blue-500 hover:underline">Retour</a>
        </div>
    </div>
</div>
{% endblock %}
