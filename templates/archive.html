{% extends "base.html" %}

{% block title %}Cave à Vin - Archive{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <div class="flex justify-between items-center mb-6">
        <h1 class="text-2xl font-bold">Archive de Bouteilles</h1>
    </div>

    {% if not archives or archives | length == 0 %}
        <div class="bg-yellow-200 text-yellow-800 p-4 rounded-md mb-4">
            <p>Aucune bouteille archivée pour le moment.</p>
        </div>
    {% else %}
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
            {% for bouteille in archives %}
            <div class="bg-white rounded-lg shadow-lg p-6">
                <img src="{{ bouteille.photo }}" alt="{{ bouteille.nom }}" class="w-full h-48 object-cover rounded-md mb-4">
                <h2 class="text-xl font-semibold">{{ bouteille.nom }}</h2>
                <p class="text-gray-600">Type: {{ bouteille.type }}</p>
                <p class="text-gray-600">Année: {{ bouteille.annee }}</p>
                <p class="text-gray-600">Région: {{ bouteille.region }}</p>
                <p class="text-gray-600">Prix: {{ bouteille.prix }}€</p>
                <p class="text-gray-600">Étagère: {{ bouteille.num_etagere }}</p>
                <p class="text-gray-600">Moyenne: {{ bouteille.moyen }}</p>
                <p class="text-gray-600">Commentaires: {{ bouteille.commentaire | join(", ") }}</p>
                <div class="mt-4 flex justify-between">
                    <a href="/bottle/{{ bouteille.nom }}" class="text-blue-500 hover:underline">Voir Détails</a>
                    <a href="/bottle/restore/{{ bouteille.nom }}" class="text-green-500 hover:underline">Restaurer</a>
                    <a href="/bottle/delete/{{ bouteille.nom }}" class="text-red-500 hover:underline" onclick="return confirm('Êtes-vous sûr de vouloir supprimer définitivement cette bouteille ?');">
                        Supprimer
                    </a>
                </div>
            </div>
            {% endfor %}
        </div>
    {% endif %}
</div>
{% endblock %}
